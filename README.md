Создание облачной инфраструктуры

Из-за того что, если создавать ключ для доступа к ресурсам через терраформ через сам terraform он будет отображаться чувствительной информацией и у меня не будет к нему доступа, мне пришлось разделить предварительную работу на части - создание сервисного аккаунта, создание secret key вручную с сохранением его данных, создание и настройка бакета для конфигурации на основе созданного ключа, настройка сохранения стейта основной конфигурации сохраняется в бакете.

Все этапы кроме создания secret key создаются в моей конфигурации terraform.

Выполнять конфигурирование terraform следует по очереди




Ожидаемые результаты:

Terraform сконфигурирован и создание инфраструктуры посредством Terraform возможно без дополнительных ручных действий, стейт основной конфигурации сохраняется в бакете или Terraform Cloud
Полученная конфигурация инфраструктуры является предварительной, поэтому в ходе дальнейшего выполнения задания возможны изменения.

Создание Kubernetes кластера

Ожидаемый результат:

Работоспособный Kubernetes кластер.
В файле ~/.kube/config находятся данные для доступа к кластеру.
Команда kubectl get pods --all-namespaces отрабатывает без ошибок.

Создание тестового приложения

Ожидаемый результат:

Git репозиторий с тестовым приложением и Dockerfile.
Регистри с собранным docker image. В качестве регистри может быть DockerHub или Yandex Container Registry, созданный также с помощью terraform.
